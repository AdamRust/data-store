<!DOCTYPE HTML>
<html th: xmlns:th="http://www.thymeleaf.org">
<head>
<title>Spring Boot Thymeleaf Hello World Example</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<link rel="stylesheet" type="text/css"
	href="webjars/bootstrap/3.3.7/css/bootstrap.min.css" />

<link rel="stylesheet" th:href="@{/css/main.css}"
	href="../../css/main.css" />
	<script type="text/javascript" src="webjars/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
		    $("#locales").change(function () {
		        var selectedOption = $('#locales').val();
		        if (selectedOption != ''){
		            window.location.replace('home?lang=' + selectedOption);
		        }
		    });
		});
	</script>	

</head>

<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>

<body>

	<nav class="navbar navbar-inverse">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href="#">Spring Boot</a>
			</div>
			<div id="navbar" class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#">Home</a></li>
					<li><a href="#about">About</a></li>
					<li th:with="currentUrl=(${@currentUrlWithoutParam.apply('lang')})">
    					<a th:href="@{${currentUrl}(lang=#{lang.otherLocale})}" th:text="#{lang.otherLanguage}">click here</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
		
	<div class="container">
        <nav class="navbar navbar-expand-md navbar-dark bg-dark mb-4">
	      	<a class="navbar-brand" href="#"><spring:message code="app.title"/></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
			   aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
			   <span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarCollapse">
			   <ul class="navbar-nav mr-auto">
			      <li class="nav-item active"><a class="nav-link" href="#"><spring:message code="app.nav.home"/> <span class="sr-only"></span></a></li>
			   </ul>
			</div>
   		</nav>
		<h1 th:utext="#{greeting}"></h1>
		<p th:utext="#{lang.change}"></p>
		<h1>Tri-Agency Data store</h1>
        <p>Welcome to the data store.  Please select one of the following opitons</p>
        <p>Click <a th:href="@{/hello}">here</a> to see a greeting.</p>
        <p><a href="import/importPrograms">Import Programs</a> from file</p>
        <p><a href="programs/home">Browse Programs</a></p>
        <p>
	        <span th:text="#{lang.change}"></span>:
			<select id="locales">
			    <option value=""></option>
			    <option value="en" th:text="#{lang.eng}"></option>
			    <option value="fr" th:text="#{lang.fr}"></option>
			</select>
		</p>
	</div>

   </body>

</html>